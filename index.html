<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Ciudades</title>
  <link rel="stylesheet" href="./style.css">
  
</head>
<body>
  <header>
    <a class="volver-link" href="index.html">CIUDADES DEL MUNDO</a>
  </header>
  
  <section>
    <nav>
      <ul class="w3-sidebar w3-bar-block centered-list" id="city-list">
        <!-- Los enlaces se generarán automáticamente aquí desde el JSON -->
      </ul>
    </nav>
  </section>

  <section>
    <!-- Aquí se mostrará el contenido de las ciudades -->
  </section>
  
  <footer>
    <p>CIUDADES</p>
  </footer>
  <script src="script.js"></script>
  <script src="detalles.js"></script>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const cityList = document.getElementById("city-list");
      const cityContent = document.querySelector("section:last-child");
    
      // URL del JSON (reemplaza con la ubicación real del JSON)
      const jsonURL = "independent.json"; // Asegúrate de que la ruta sea correcta
    
      // Realiza una solicitud para cargar el JSON
      fetch(jsonURL)
        .then((response) => response.json())
        .then((data) => {
          // Itera a través de todas las ciudades en el JSON
          data.forEach((cityData) => {
            // Obtén las traducciones en español desde "translations"
            const translations = cityData.translations;
            const officialNameInSpanish = translations.spa.official;
    
            // Genera un enlace para cada ciudad y agrégalo a la lista
            const cityLink = document.createElement("li");
            cityLink.innerHTML = `<a href="#${officialNameInSpanish.toLowerCase()}" onclick="showText('${officialNameInSpanish.toLowerCase()}')">${officialNameInSpanish}</a>`;
            cityList.appendChild(cityLink);
          });
        })
        .catch((error) => {
          console.error("Error al cargar el JSON:", error);
        });
    });
    
  </script>
</body>
</html>
